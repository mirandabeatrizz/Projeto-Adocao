<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Sistema de Registro e Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/fonts.css">
</head>

<body>
    <div class="navbar">
        <div class="conteudomenu">
            <div class="logo">
                <img src="" alt="">
            </div>
            <nav class="menu">
                <ul>
                    <li><a class="item-menu" href="users">Usuários</a></li>
                    <li><a class="item-menu" href="cadastroAnimais">Animais</a></li>
                    <li><a  class="item-menu" href="listaInteressados">Interessados</a></li>
                </ul>
            </nav>
        </div>
    </div>
    
    <div class="container">
            <h1> Usuários Registrados </h1>
                <div class="btn-add-user">    
                    <a th:href="@{/register}">Adicionar Usuário</a>
                </div>
      
        <table class="tabela">
            <thead>
                <tr>
                    <th>Primeiro Nome</th>
                    <th>Sobrenome</th>
                    <th>Email</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody id="listaUsers">
                <tr th:each="user: ${users}">
                    <td th:text="${user.firstName}"></td>
                    <td th:text="${user.lastName}"></td>
                    <td th:text="${user.email}"></td>
                    <td>
                        <button class="botao-excluir flat-button" data-id="${user.id}">Excluir</button>
                       <button class="botao-editar flat-button" id = "editar" data-id="${user.id}">Editar</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <!-- Formulário de Edição -->
<div id="editForm" style="display:none;">
    <h2>Editar Usuário</h2>
   
</div>

<!-- Adicione a biblioteca jQuery -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<!-- Script jQuery para manipulação do formulário de edição -->
<script>
    $(document).ready(function () {
        $(".botao-editar").click(function () {
            // Obtenha os dados do usuário selecionado
            var userId = $(this).data("id");
            var firstName = $("tr[data-id='" + userId + "'] td:nth-child(1)").text();
            var lastName = $("tr[data-id='" + userId + "'] td:nth-child(2)").text();
            var email = $("tr[data-id='" + userId + "'] td:nth-child(3)").text();

            // Preencha o formulário de edição com os dados do usuário
            $("#editFirstName").val(firstName);
            $("#editLastName").val(lastName);
            $("#editEmail").val(email);

            // Exiba o formulário de edição
            $("#editForm").show();
        });

        $("#saveButton").click(function () {
            // Lógica para salvar as alterações do usuário (pode enviar uma requisição AJAX para o servidor)

            // Oculte o formulário de edição após salvar
            $("#editForm").hide();
        });
    });
</script>
    </div>
</body>
</html>